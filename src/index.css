@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary Dark Blue - Trust & Professionalism */
    --primary-dark-blue: 210 45% 23%;        /* #1A3B5D */
    --primary-dark-blue-rgb: 26 59 93;

    /* Accent Teal/Green - Innovation & Connection */
    --accent-teal: 174 62% 44%;              /* #2BB7A9 */
    --accent-teal-rgb: 43 183 169;

    /* Soft Gray - Supporting Neutral */
    --soft-gray: 210 30% 89%;                /* #D9E2EB */
    --soft-gray-rgb: 217 226 235;

    /* Text & Main Colors */
    --text-dark: 216 22% 29%;                /* #3C4858 */
    --text-dark-rgb: 60 72 88;

    /* Secondary Colors - Data Harmony */
    --muted-orange: 29 93% 61%;              /* #F89D42 */
    --medium-gray-blue: 211 30% 55%;         /* #6A8BAE */
    --soft-yellow-green: 84 58% 75%;         /* #C2E28B */

    /* Standard whites and errors */
    --white: 0 0% 100%;
    --error-red: 354 70% 54%;                /* #D9534F */

    /* Mapped to shadcn variables */
    --background: var(--white);
    --foreground: var(--text-dark);
    --card: var(--white);
    --card-foreground: var(--text-dark);
    --popover: var(--white);
    --popover-foreground: var(--text-dark);
    --primary: var(--primary-dark-blue);
    --primary-foreground: var(--white);
    --secondary: var(--soft-gray);
    --secondary-foreground: var(--text-dark);
    --muted: var(--soft-gray);
    --muted-foreground: var(--medium-gray-blue);
    --accent: var(--accent-teal);
    --accent-foreground: var(--white);
    --destructive: var(--error-red);
    --destructive-foreground: var(--white);
    --border: 210 30% 85%;
    --input: 210 30% 85%;
    --ring: var(--accent-teal);
    --radius: 0.5rem;
  }

  .dark {
    --background: var(--primary-dark-blue);
    --foreground: var(--white);
    --card: 210 45% 18%;
    --card-foreground: var(--white);
    --popover: 210 45% 18%;
    --popover-foreground: var(--white);
    --primary: var(--accent-teal);
    --primary-foreground: var(--primary-dark-blue);
    --secondary: 210 45% 28%;
    --secondary-foreground: var(--white);
    --muted: 210 45% 28%;
    --muted-foreground: var(--medium-gray-blue);
    --accent: var(--accent-teal);
    --accent-foreground: var(--white);
    --destructive: var(--error-red);
    --destructive-foreground: var(--white);
    --border: 210 45% 28%;
    --input: 210 45% 28%;
    --ring: var(--accent-teal);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Pattern Builder Animations */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes thread-flow {
  0% {
    transform: translateY(-10px);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(10px);
    opacity: 0;
  }
}

@keyframes golden-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(43, 183, 169, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(43, 183, 169, 0.6), 0 0 30px rgba(43, 183, 169, 0.3);
  }
}

@keyframes needle-stitch {
  0% {
    stroke-dashoffset: 1000;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.golden-thread {
  position: relative;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(43, 183, 169, 0.4) 25%,
    rgba(43, 183, 169, 0.6) 50%,
    rgba(43, 183, 169, 0.4) 75%,
    transparent 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 3s linear infinite;
}

.golden-thread-connected {
  animation: golden-glow 2s ease-in-out infinite;
}

.thread-particle {
  animation: thread-flow 2s ease-in-out infinite;
}

/* Smooth transitions for step blocks */
.step-block-enter {
  opacity: 0;
  transform: scale(0.9) translateY(-20px);
}

.step-block-enter-active {
  opacity: 1;
  transform: scale(1) translateY(0);
  transition: all 0.3s ease-out;
}

.step-block-exit {
  opacity: 1;
  transform: scale(1);
}

.step-block-exit-active {
  opacity: 0;
  transform: scale(0.9);
  transition: all 0.2s ease-in;
}
